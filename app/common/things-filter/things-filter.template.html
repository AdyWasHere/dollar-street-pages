<div id="things-filter"
     *ngIf="activeThing?.plural || activeThing?.thingName"
     [ngClass]="{'open-things-filter': isOpenThingsFilter}">
  <div class="things-filter-button">
    <div class="things-filter-button-content"
         (click)="openThingsFilter(isOpenThingsFilter)">
      <img *ngIf="activeThing?.iconDark"
           [src]="activeThing?.iconDark"
           alt="Icon">
      <span>{{activeThing?.plural || activeThing?.thingName}}</span>
      <span class="arrow"></span>
    </div>

    <div class="thing-pop-up" *ngIf="activeThing.shortDescription && !isOpenThingsFilter">
      <div class="thing-pop-up-content">
        <p> {{activeThing?.shortDescription}}
          <a *ngIf="activeThing?.isShowReadMore"
             [routerLink]="['/article', activeThing._id]"
             [queryParams]="{}"
             angulartics2On="click"
             angularticsEvent="Move to Article about {{activeThing.thingName}} page with Read More button ">Read more >></a>
        </p>
      </div>
    </div>
  </div>

  <div class="things-filter-container">
    <div class="related-things-container">
      <h3 class="title">Related</h3>

      <div class="related-things-content">
        <div class="thing-content"
             *ngFor="let thing of relatedThings"
             (click)="goToThing(thing)"
             [ngClass]="{'empty': thing.empty}">
          <div class="thing-icon-container">
            <img class="thing-icon" [src]="thing.icon" alt="">
          </div>

          <span class="thing-name">{{thing.plural}}</span>
        </div>
      </div>
    </div>

    <div class="popular-things-container">
      <h3 class="title">Popular</h3>

      <div class="popular-things-content">
        <div class="thing-content"
             *ngFor="let thing of popularThings"
             (click)="goToThing(thing)"
             [ngClass]="{'empty': thing.empty}">
          <div class="thing-icon-container">
            <img class="thing-icon" [src]="thing.icon" alt="">
          </div>

          <span class="thing-name">{{thing.plural}}</span>
        </div>
      </div>
    </div>

    <div class="other-things-container">

      <h3 class="title">All topics
        <img class="close-button pull-right"
             src="/assets/img/close-button.svg"
             (click)="openThingsFilter(true)"
             alt="Close">
      </h3>

      <div class="things-search">
        <input class="form-control"
               type="search"
               placeholder="Search things"
               [(ngModel)]="search.text">
        <img src="/assets/img/search-icon.svg" alt="Search icon">
      </div>

      <div class="other-things-content">
        <div class="thing-content"
             *ngFor="let thing of otherThings | ThingsFilterPipe:search.text"
             (click)="goToThing(thing)"
             [ngClass]="{'empty': thing.empty}">
          <div class="thing-icon-container">
            <img class="thing-icon"
                 [src]="thing.icon"
                 [alt]="thing.plural">
          </div>

          <span class="thing-name">{{thing.plural}}</span>
        </div>
      </div>
    </div>
  </div>
</div>
